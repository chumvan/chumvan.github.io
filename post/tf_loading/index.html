<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="When working with Terraform, understanding the sequence in which files are processed can streamline your workflow and minimize potential errors. This guide will break down Terraform&amp;rsquo;s file processing order, inspired by the clarity of Google Cloud&amp;rsquo;s documentation.
Why the Order Matters Just as building a house requires a specific sequence (foundation before walls, walls before the roof), Terraform needs its files in a particular order. This ensures that all dependencies and configurations are taken into account, guaranteeing an accurate and efficient infrastructure setup."><title>Understanding Terraform's File Processing</title><link rel=canonical href=https://chumvan.github.io/post/tf_loading/><link rel=stylesheet href=/scss/style.min.c433f060dbf536493f77dc9bb3d8784790fce30ca0a0bcee024604d085c1545c.css><meta property="og:title" content="Understanding Terraform's File Processing"><meta property="og:description" content="When working with Terraform, understanding the sequence in which files are processed can streamline your workflow and minimize potential errors. This guide will break down Terraform&amp;rsquo;s file processing order, inspired by the clarity of Google Cloud&amp;rsquo;s documentation.
Why the Order Matters Just as building a house requires a specific sequence (foundation before walls, walls before the roof), Terraform needs its files in a particular order. This ensures that all dependencies and configurations are taken into account, guaranteeing an accurate and efficient infrastructure setup."><meta property="og:url" content="https://chumvan.github.io/post/tf_loading/"><meta property="og:site_name" content="read-trung.md"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="tech"><meta property="article:tag" content="cloud"><meta property="article:published_time" content="2023-08-06T11:38:18+03:00"><meta property="article:modified_time" content="2023-08-06T11:38:18+03:00"><meta property="og:image" content="https://chumvan.github.io/post/tf_loading/cover.jpg"><meta name=twitter:title content="Understanding Terraform's File Processing"><meta name=twitter:description content="When working with Terraform, understanding the sequence in which files are processed can streamline your workflow and minimize potential errors. This guide will break down Terraform&amp;rsquo;s file processing order, inspired by the clarity of Google Cloud&amp;rsquo;s documentation.
Why the Order Matters Just as building a house requires a specific sequence (foundation before walls, walls before the roof), Terraform needs its files in a particular order. This ensures that all dependencies and configurations are taken into account, guaranteeing an accurate and efficient infrastructure setup."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://chumvan.github.io/post/tf_loading/cover.jpg"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/frog_hu15339c18f2b221ffab001af40cbfd1ad_2366184_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>read-trung.md</a></h1><h2 class=site-description>brain dump for me, but maybe useful for you too</h2></div></header><ol class=social-menu><li><a href=https://github.com/chumvan target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/trung-van/ target=_blank title=LinkedIn rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-linkedin" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2z"/><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 00-4 0"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/page/cv/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-script" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M17 20H6a3 3 0 010-6h11a3 3 0 000 6h1a3 3 0 003-3V6a2 2 0 00-2-2H9A2 2 0 007 6v8"/></svg><span>Résumé</span></a></li><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/page/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/page/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li><a href=/page/contact/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-address-book" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 6v12a2 2 0 01-2 2H8a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2z"/><path d="M10 16h6"/><path d="M13 11m-2 0a2 2 0 104 0 2 2 0 10-4 0"/><path d="M4 8h3"/><path d="M4 12h3"/><path d="M4 16h3"/></svg><span>Contact</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><ol><li><a href=#why-the-order-matters><strong>Why the Order Matters</strong></a></li><li><a href=#the-sequence-of-terraform-file-processing><strong>The Sequence of Terraform File Processing</strong></a><ol><li><a href=#1-provider-plugins-and-data-sources-setting-the-stage><strong>1. Provider Plugins and Data Sources: Setting the Stage</strong></a></li><li><a href=#2-variable-definitions-filling-in-the-details><strong>2. Variable Definitions: Filling in the Details</strong></a></li><li><a href=#3-main-configuration-files-the-blueprint><strong>3. Main Configuration Files: The Blueprint</strong></a></li><li><a href=#4-module-configurations-reusable-components><strong>4. Module Configurations: Reusable Components</strong></a></li><li><a href=#5-local-variable-definitions-in-file-adjustments><strong>5. Local Variable Definitions: In-file Adjustments</strong></a></li><li><a href=#6-output-definitions-summarizing-the-outcome><strong>6. Output Definitions: Summarizing the Outcome</strong></a></li></ol></li><li><a href=#conclusion><strong>Conclusion</strong></a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/tf_loading/><img src=/post/tf_loading/cover_hu28fae4c034e624a6e2384689114a5875_534002_800x0_resize_q75_box.jpg srcset="/post/tf_loading/cover_hu28fae4c034e624a6e2384689114a5875_534002_800x0_resize_q75_box.jpg 800w, /post/tf_loading/cover_hu28fae4c034e624a6e2384689114a5875_534002_1600x0_resize_q75_box.jpg 1600w" width=800 height=448 loading=lazy alt="Featured image of post Understanding Terraform's File Processing"></a></div><div class=article-details><header class=article-category><a href=/categories/post/>post</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/tf_loading/>Understanding Terraform's File Processing</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Aug 06, 2023</time></div></footer></div></header><section class=article-content><p>When working with Terraform, understanding the sequence in which files are processed can streamline your workflow and minimize potential errors. This guide will break down Terraform&rsquo;s file processing order, inspired by the clarity of Google Cloud&rsquo;s documentation.</p><h3 id=why-the-order-matters><strong>Why the Order Matters</strong></h3><p>Just as building a house requires a specific sequence (foundation before walls, walls before the roof), Terraform needs its files in a particular order. This ensures that all dependencies and configurations are taken into account, guaranteeing an accurate and efficient infrastructure setup.</p><h3 id=the-sequence-of-terraform-file-processing><strong>The Sequence of Terraform File Processing</strong></h3><h4 id=1-provider-plugins-and-data-sources-setting-the-stage><strong>1. Provider Plugins and Data Sources: Setting the Stage</strong></h4><ul><li><p><strong>Provider Plugins</strong>: These are the initial tools that Terraform calls upon. They connect Terraform to specific cloud platforms like AWS, Azure, or Google Cloud. Before anything else, Terraform ensures it can communicate with these platforms.</p></li><li><p><strong>Data Sources</strong>: Next, Terraform consults any data sources you&rsquo;ve configured. These sources provide information about pre-existing cloud resources, allowing Terraform to make informed decisions and prevent duplications.</p></li></ul><h4 id=2-variable-definitions-filling-in-the-details><strong>2. Variable Definitions: Filling in the Details</strong></h4><p>The <code>.tfvars</code> files come into play here. These files give specific values to the variables you&rsquo;ve set up in your configurations. They&rsquo;re like setting preferences before a software installation; they inform Terraform of your specific requirements and conditions.</p><h4 id=3-main-configuration-files-the-blueprint><strong>3. Main Configuration Files: The Blueprint</strong></h4><p>The <code>main.tf</code> file (or its equivalent if split across multiple <code>.tf</code> files) is loaded next. This file serves as the master blueprint, detailing the resources, modules, and other configurations that define your desired infrastructure setup.</p><h4 id=4-module-configurations-reusable-components><strong>4. Module Configurations: Reusable Components</strong></h4><p>Modules in Terraform act as reusable templates. If your main configuration references any Terraform modules, these module configurations are loaded to provide predefined setups, ensuring consistency and saving time.</p><h4 id=5-local-variable-definitions-in-file-adjustments><strong>5. Local Variable Definitions: In-file Adjustments</strong></h4><p>Using the <code>locals</code> block within <code>.tf</code> files, Terraform allows for the creation of variables that are specific to that file. They&rsquo;re handy for local computations and to simplify complex configurations within that specific file.</p><h4 id=6-output-definitions-summarizing-the-outcome><strong>6. Output Definitions: Summarizing the Outcome</strong></h4><p>Once all configurations are set, Terraform processes the output definitions. These outputs highlight specific results or values after Terraform has applied the configurations, offering a concise summary of the process.</p><h3 id=conclusion><strong>Conclusion</strong></h3><p>The way Terraform processes files isn&rsquo;t arbitrary. It&rsquo;s a thoughtfully designed sequence ensuring that your infrastructure is built methodically, taking into account all dependencies and configurations. This systematic approach helps reduce deployment errors and promotes the efficient execution of code, reflecting the tool&rsquo;s purpose: to simplify and standardize infrastructure management.</p><p>Terraform&rsquo;s sequential approach isn&rsquo;t just about order. It reflects a deeper philosophy. Terraform, at its core, is declarative. It focuses on the &ldquo;what&rdquo; (what you want your infrastructure to look like) rather than the &ldquo;how&rdquo; (how to achieve that state). This flow ensures that by the time Terraform starts acting on the &ldquo;what&rdquo;, it has all the information it needs, ensuring fewer errors and a more predictable outcome.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/tech/>tech</a>
<a href=/tags/cloud/>cloud</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/post/the-why/><div class=article-image><img src=/post/the-why/cover.3f6ed535001d18d70d1278a30f672e9c_hu6c1b2d5324f980b96cdf032f0d2812da_1730365_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post Navigate with why" data-key=the-why data-hash="md5-P27VNQAdGNcNEnijD2cunA=="></div><div class=article-details><h2 class=article-title>Navigate with why</h2></div></a></article><article class=has-image><a href=/post/eatthefrog/><div class=article-image><img src=/post/eatthefrog/cover.ea63bc79b4871bb49a1a7fb5325b5e22_hub2d2bb3a5b6a6763e535d1626c4f737a_47780_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post A frog for a day" data-key=eatTheFrog data-hash="md5-6mO8ebSHG7SaGn+1MlteIg=="></div><div class=article-details><h2 class=article-title>A frog for a day</h2></div></a></article><article class=has-image><a href=/post/boringtool/><div class=article-image><img src=/post/boringtool/cover.a689b22f5c325ca322fb9991d0a1a4a0_hud3a183415af017bb6dab33dd3d3428f2_26004_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post A boring tool" data-key=boringTool data-hash="md5-pomyL1wyXKMi+5mR0KGkoA=="></div><div class=article-details><h2 class=article-title>A boring tool</h2></div></a></article><article class=has-image><a href=/post/johari-window/><div class=article-image><img src=/post/johari-window/cover.086a61a312514c15d46b9881205aac95_hu8fa1e062b8a6ff2c7dfbe2edf273a08c_466271_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post Johari's Window" data-key=johari-window data-hash="md5-CGphoxJRTBXUa5iBIFqslQ=="></div><div class=article-details><h2 class=article-title>Johari's Window</h2></div></a></article><article class=has-image><a href=/post/evolution_over_revolution/><div class=article-image><img src=/post/evolution_over_revolution/cover.668dcf56ff24f131c1b842a4617a054b_hue933702118203f9702a74ebbf545124d_69282_250x150_fill_q75_box_smart1.jpg width=250 height=150 loading=lazy alt="Featured image of post Evolution over Revolution" data-hash="md5-Zo3PVv8k8THBuEKkYXoFSw=="></div><div class=article-details><h2 class=article-title>Evolution over Revolution</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2023 read-trung.md</section><section class=powerby>Made with ❤️ in Vietnam<br>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>